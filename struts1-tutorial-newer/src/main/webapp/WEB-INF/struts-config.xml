<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE struts-config PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
        "http://struts.apache.org/dtds/struts-config_1_3.dtd">
<struts-config>
    <form-beans>
        <form-bean name="loginForm" type="com.ebiz.webapp.web.bean.LoginForm"/>

        <form-bean name="dynStudentForm"
                   type="org.apache.struts.action.DynaActionForm">
            <!-- 这里的type必须是完整的 -->
            <form-property name="sname" type="java.lang.String" />
            <form-property name="birthday" type="java.sql.Date" />
            <form-property name="major" type="java.lang.String" />
            <form-property name="score" type="java.lang.Float" />
        </form-bean>

        <form-bean name="lazyForm" type="org.apache.struts.validator.LazyValidatorForm"/>
    </form-beans>

    <global-forwards>
        <forward name="index" path="/index.do" redirect="true"></forward>
    </global-forwards>

    <action-mappings>
        <!--original-->
        <action path="/login" type="com.ebiz.webapp.web.action.LoginAction" name="loginForm">
            <forward name="loginSuccess" path="/loginSuccess.jsp"></forward>
            <forward name="loginFail" path="/loginFail.jsp"></forward>
        </action>

        <!--动态表单，不需要书写formbean-->
        <action path="/dynAddStudent"
                type="com.ebiz.webapp.web.action.DynAddStudentAction" name="dynStudentForm">
            <forward name="addSuccess" path="/student/addSuccess.jsp"></forward>
            <forward name="addFail" path="/student/addFail.jsp"></forward>
        </action>

        <!--方式1 extends DispatchAction-->
        <!--http://localhost:8080/student.do?method=addStudent-->
        <action path="/student" type="com.ebiz.webapp.web.action.DispatchStudentAction"
                name="dynStudentForm" parameter="method">
            <forward name="addSuccess" path="/student/addSuccess.jsp"></forward>
            <forward name="addFail" path="/student/addFail.jsp"></forward>
        </action>

        <!--方式2 extends MappingDispatchAction-->
        <!--http://localhost:8080/updateStudent.do-->
        <action path="/addStudent" type="com.ebiz.webapp.web.action.MappingStudentAction"
                name="dynStudentForm" parameter="addStudent">
        </action>
        <action path="/deleteStudent" type="com.ebiz.webapp.web.action.MappingStudentAction"
                name="dynStudentForm" parameter="deleteStudent">
        </action>
        <action path="/updateStudent" type="com.ebiz.webapp.web.action.MappingStudentAction"
                name="dynStudentForm" parameter="updateStudent">
        </action>

        <action path="/lazyLogin" type="com.ebiz.webapp.web.action.LazyLoginAction" name="lazyForm" validate="false">
            <forward name="loginSuccess" path="/loginSuccess.jsp"></forward>
            <forward name="loginFail" path="/loginFail.jsp"></forward>
        </action>

        <action path="/index" type="com.ebiz.webapp.web.action.IndexAction" name="lazyForm" validate="false" parameter="method">
            <forward name="success" path="/login.jsp"></forward>
        </action>

    </action-mappings>
</struts-config>